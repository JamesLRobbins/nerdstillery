{"ast":null,"code":"import _classCallCheck from\"/Users/jamesrobbins/Desktop/Nerdstillery/nerdstillery-live/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jamesrobbins/Desktop/Nerdstillery/nerdstillery-live/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jamesrobbins/Desktop/Nerdstillery/nerdstillery-live/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jamesrobbins/Desktop/Nerdstillery/nerdstillery-live/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import{Container,Grid,Button,Form,Table,Icon,Dropdown}from'semantic-ui-react';var NewsAdmin=/*#__PURE__*/function(_React$Component){_inherits(NewsAdmin,_React$Component);var _super=_createSuper(NewsAdmin);function NewsAdmin(props){var _this;_classCallCheck(this,NewsAdmin);_this=_super.call(this,props);_this.bandnamechange=function(event,data){_this.setState({bandName:data.value});};_this.newschange=function(event){_this.setState({news:event.target.value});};_this.datechange=function(event){_this.setState({date:event.target.value});};_this.state={newsArray:[],id:0,bandName:'',news:'',date:''};return _this;}_createClass(NewsAdmin,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:5000/api/news').then(function(res){_this2.setState({newsArray:res.data,id:0,bandName:'',news:'',date:''});});}},{key:\"submit\",value:function submit(event,id){var _this3=this;event.preventDefault();if(id===0&&this.state.bandName!==''&&this.state.news!==''&&this.state.date!==''){axios.post('http://localhost:5000/api/news',{bandName:this.state.bandName,news:this.state.news,date:this.state.date}).then(function(){_this3.componentDidMount();alert(\"Upload Successfully\");console.log(\"Successful \"+_this3.state.bandName+_this3.state.news+_this3.state.id);});}else if(this.state.bandName===''||this.state.news===''||this.state.date===''){alert(\"Please fill out all fields\");}else{axios.put(\"http://localhost:5000/api/news/\".concat(id),{bandName:this.state.bandName,news:this.state.news,date:this.state.date}).then(function(){_this3.componentDidMount();});}}},{key:\"delete\",value:function _delete(id){var _this4=this;axios.delete(\"http://localhost:5000/api/news/\".concat(id)).then(function(){_this4.componentDidMount();});}},{key:\"edit\",value:function edit(id){var _this5=this;axios.get(\"http://localhost:5000/api/news/\".concat(id)).then(function(res){_this5.setState({id:res.data._id,bandName:res.data.bandName,news:res.data.news,date:res.data.date});});}},{key:\"render\",value:function render(){var _this6=this;var bandNames=[{key:\"Cryptic Calling\",text:\"Cryptic Calling\",value:\"Cryptic Calling\"},{key:\"Static Siren\",text:\"Static Siren\",value:\"Static Siren\"},{key:\"Sega James\",text:\"Sega James\",value:\"Static Siren\"},{key:\"Just James\",text:\"Just James\",value:\"Just James\"}];return/*#__PURE__*/React.createElement(Container,{fluid:true,className:\"admin\"},/*#__PURE__*/React.createElement(Grid,{columns:2},/*#__PURE__*/React.createElement(Grid.Row,null,/*#__PURE__*/React.createElement(Grid.Column,null,/*#__PURE__*/React.createElement(Form,{inverted:true,onSubmit:function onSubmit(e){return _this6.submit(e,_this6.state.id);}},/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"h4\",null,\"Band Name\")),/*#__PURE__*/React.createElement(Dropdown,{placeholder:\"Select Band\",fluid:true,selection:true,options:bandNames,onChange:this.bandnamechange})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"h4\",null,\"News\")),/*#__PURE__*/React.createElement(\"input\",{value:this.state.news,onChange:function onChange(e){return _this6.newschange(e);},placeholder:\"News\",type:\"text\"})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"h4\",null,\"Date\")),/*#__PURE__*/React.createElement(\"input\",{value:this.state.date,onChange:function onChange(e){return _this6.datechange(e);},placeholder:\"Date\",type:\"date\"})),/*#__PURE__*/React.createElement(Button,{type:\"submit\"},\"Submit\"))),/*#__PURE__*/React.createElement(Grid.Column,null,/*#__PURE__*/React.createElement(Table,null,/*#__PURE__*/React.createElement(Table.Header,null,/*#__PURE__*/React.createElement(Table.Row,null,/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Band Name\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"News\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Date\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Edit News\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Delete News\"))),/*#__PURE__*/React.createElement(Table.Body,null,this.state.newsArray.map(function(newsArticle){return/*#__PURE__*/React.createElement(Table.Row,{key:newsArticle._id},/*#__PURE__*/React.createElement(Table.Cell,null,newsArticle.bandName),/*#__PURE__*/React.createElement(Table.Cell,null,\" \",newsArticle.news,\" \"),/*#__PURE__*/React.createElement(Table.Cell,null,\" \",newsArticle.date),/*#__PURE__*/React.createElement(Table.Cell,null,/*#__PURE__*/React.createElement(Button,{icon:true,color:\"blue\",onClick:function onClick(e){return _this6.edit(newsArticle._id);},className:\"btn waves-effect waves-light\",type:\"submit\",name:\"action\"},/*#__PURE__*/React.createElement(Icon,{fitted:true,name:\"edit\"}))),/*#__PURE__*/React.createElement(Table.Cell,null,/*#__PURE__*/React.createElement(Button,{icon:true,color:\"red\",onClick:function onClick(e){return _this6.delete(newsArticle._id);},className:\"btn waves-effect waves-light\",type:\"submit\",name:\"action\"},/*#__PURE__*/React.createElement(Icon,{fitted:true,name:\"delete\"}))));})))))));}}]);return NewsAdmin;}(React.Component);export default NewsAdmin;","map":{"version":3,"sources":["/Users/jamesrobbins/Desktop/Nerdstillery/nerdstillery-live/src/components/Admin/News/News.js"],"names":["React","axios","Container","Grid","Button","Form","Table","Icon","Dropdown","NewsAdmin","props","bandnamechange","event","data","setState","bandName","value","newschange","news","target","datechange","date","state","newsArray","id","get","then","res","preventDefault","post","componentDidMount","alert","console","log","put","delete","_id","bandNames","key","text","e","submit","map","newsArticle","edit","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Container, Grid, Button, Form, Table, Icon, Dropdown } from 'semantic-ui-react';\n\nclass NewsAdmin extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      newsArray:[],\n      id: 0,\n      bandName: '',\n      news: '',\n      date: ''\n    }\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/api/news')\n    .then((res) => {\n      this.setState({\n        newsArray: res.data,\n        id: 0,\n        bandName: '',\n        news: '',\n        date: ''\n      })\n    })\n  }\n\n  bandnamechange = (event, data) => {\n    this.setState({\n      bandName: data.value\n    })\n  }\n\n  newschange = event => {\n    this.setState({\n      news: event.target.value\n    })\n  }\n\n  datechange = event => {\n    this.setState({\n      date: event.target.value\n    })\n  }\n\n  submit(event, id) {\n    event.preventDefault()\n    if (id === 0 && this.state.bandName !== '' && this.state.news !== '' && this.state.date !== '') {\n      axios.post('http://localhost:5000/api/news', {bandName: this.state.bandName, news: this.state.news, date: this.state.date})\n      .then(() => {\n        this.componentDidMount()\n        alert(\"Upload Successfully\")\n        console.log(\"Successful \" + this.state.bandName + this.state.news + this.state.id)\n      })\n    } else if (this.state.bandName === '' || this.state.news === '' || this.state.date === '') {\n        alert(\"Please fill out all fields\")\n    }else {\n      axios.put(`http://localhost:5000/api/news/${id}`, {bandName: this.state.bandName, news: this.state.news, date: this.state.date})\n      .  then(() => {\n        this.componentDidMount()\n      })\n    }\n  }\n\n  delete(id) {\n    axios.delete(`http://localhost:5000/api/news/${id}`)\n    .then(() => {\n      this.componentDidMount()\n    })\n  }\n\n  edit(id) {\n    axios.get(`http://localhost:5000/api/news/${id}`)\n    .then((res) => {\n      this.setState({\n        id: res.data._id,\n        bandName: res.data.bandName,\n        news: res.data.news,\n        date: res.data.date\n      })\n    })\n  }\n  render() {\n\n    const bandNames = [\n      {\n        key: \"Cryptic Calling\",\n        text: \"Cryptic Calling\",\n        value: \"Cryptic Calling\"\n      },\n      {\n        key: \"Static Siren\",\n        text: \"Static Siren\",\n        value: \"Static Siren\"\n      },\n      {\n        key: \"Sega James\",\n        text: \"Sega James\",\n        value: \"Static Siren\"\n      },\n      {\n        key: \"Just James\",\n        text: \"Just James\",\n        value: \"Just James\"\n      }\n    ]\n\n  return (\n    <Container fluid className=\"admin\">\n      <Grid columns={2}>\n        <Grid.Row>\n          <Grid.Column>\n            <Form inverted onSubmit={(e) => this.submit(e, this.state.id)}>\n              <Form.Field>\n                <label><h4>Band Name</h4></label>\n                  <Dropdown \n                  placeholder=\"Select Band\"\n                  fluid\n                  selection\n                  options={bandNames}\n                  onChange={this.bandnamechange}\n                  />\n              </Form.Field>\n            <Form.Field>\n              <label><h4>News</h4></label>\n                <input value={this.state.news} onChange={(e) => this.newschange(e)} placeholder='News' type=\"text\"/>\n            </Form.Field>\n            <Form.Field>\n              <label><h4>Date</h4></label>\n                <input value={this.state.date} onChange={(e) => this.datechange(e)} placeholder='Date' type=\"date\" />\n            </Form.Field>\n          <Button type='submit'>Submit</Button>\n          </Form>\n        </Grid.Column>\n        <Grid.Column>\n        <Table>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Band Name</Table.HeaderCell>\n              <Table.HeaderCell>News</Table.HeaderCell>\n              <Table.HeaderCell>Date</Table.HeaderCell>\n              <Table.HeaderCell>Edit News</Table.HeaderCell>\n              <Table.HeaderCell>Delete News</Table.HeaderCell>\n             </Table.Row>\n          </Table.Header>\n\n         <Table.Body>\n          {this.state.newsArray.map(newsArticle => \n          <Table.Row key={newsArticle._id}>\n          <Table.Cell>{newsArticle.bandName}</Table.Cell>\n          <Table.Cell> {newsArticle.news} </Table.Cell>\n          <Table.Cell> {newsArticle.date}</Table.Cell>\n          <Table.Cell>\n          <Button icon color=\"blue\" onClick={(e) => this.edit(newsArticle._id)} className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">\n            <Icon fitted name=\"edit\" />\n          </Button>\n          </Table.Cell>\n          <Table.Cell>\n          <Button icon color=\"red\" onClick={(e) => this.delete(newsArticle._id)} className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">\n            <Icon fitted name=\"delete\" />\n          </Button>\n          </Table.Cell>\n        </Table.Row>\n            \n            \n            )}\n          \n        </Table.Body>\n      </Table>\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  </Container>\n\n  );\n}\n}\n\nexport default NewsAdmin;\n\n"]},"metadata":{},"sourceType":"module"}