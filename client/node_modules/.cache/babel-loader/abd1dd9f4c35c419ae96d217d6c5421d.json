{"ast":null,"code":"var _jsxFileName = \"/Users/jamesrobbins/Desktop/Nerdstillery/nerdstillery-live/client/src/components/Admin/News/News.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Container, Grid, Button, Form, Table, Icon, Dropdown } from 'semantic-ui-react';\n\nclass NewsAdmin extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.bandnamechange = (event, data) => {\n      this.setState({\n        bandName: data.value\n      });\n    };\n\n    this.newschange = event => {\n      this.setState({\n        news: event.target.value\n      });\n    };\n\n    this.datechange = event => {\n      this.setState({\n        date: event.target.value\n      });\n    };\n\n    this.state = {\n      newsArray: [],\n      id: 0,\n      bandName: '',\n      news: '',\n      date: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/api/news').then(res => {\n      this.setState({\n        newsArray: res.data,\n        id: 0,\n        bandName: '',\n        news: '',\n        date: ''\n      });\n    });\n  }\n\n  submit(event, id) {\n    event.preventDefault();\n\n    if (id === 0 && this.state.bandName !== '' && this.state.news !== '' && this.state.date !== '') {\n      axios.post('http://localhost:5000/api/news', {\n        bandName: this.state.bandName,\n        news: this.state.news,\n        date: this.state.date\n      }).then(() => {\n        this.componentDidMount();\n        alert(\"Upload Successfully\");\n        console.log(\"Successful \" + this.state.bandName + this.state.news + this.state.id);\n      });\n    } else if (this.state.bandName === '' || this.state.news === '' || this.state.date === '') {\n      alert(\"Please fill out all fields\");\n    } else {\n      axios.put(`http://localhost:5000/api/news/${id}`, {\n        bandName: this.state.bandName,\n        news: this.state.news,\n        date: this.state.date\n      }).then(() => {\n        this.componentDidMount();\n      });\n    }\n  }\n\n  delete(id) {\n    axios.delete(`http://localhost:5000/api/news/${id}`).then(() => {\n      this.componentDidMount();\n    });\n  }\n\n  edit(id) {\n    axios.get(`http://localhost:5000/api/news/${id}`).then(res => {\n      this.setState({\n        id: res.data._id,\n        bandName: res.data.bandName,\n        news: res.data.news,\n        date: res.data.date\n      });\n    });\n  }\n\n  render() {\n    const bandNames = [{\n      key: \"Cryptic Calling\",\n      text: \"Cryptic Calling\",\n      value: \"Cryptic Calling\"\n    }, {\n      key: \"Static Siren\",\n      text: \"Static Siren\",\n      value: \"Static Siren\"\n    }, {\n      key: \"Sega James\",\n      text: \"Sega James\",\n      value: \"Static Siren\"\n    }, {\n      key: \"Just James\",\n      text: \"Just James\",\n      value: \"Just James\"\n    }];\n    return /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      className: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      columns: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      inverted: true,\n      onSubmit: e => this.submit(e, this.state.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 24\n      }\n    }, \"Band Name\")), /*#__PURE__*/React.createElement(Dropdown, {\n      placeholder: \"Select Band\",\n      fluid: true,\n      selection: true,\n      options: bandNames,\n      onChange: this.bandnamechange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 22\n      }\n    }, \"News\")), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.news,\n      onChange: e => this.newschange(e),\n      placeholder: \"News\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Form.Field, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 22\n      }\n    }, \"Date\")), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.date,\n      onChange: e => this.datechange(e),\n      placeholder: \"Date\",\n      type: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, \"Submit\"))), /*#__PURE__*/React.createElement(Grid.Column, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }, \"Band Name\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, \"News\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, \"Edit News\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }, \"Delete News\"))), /*#__PURE__*/React.createElement(Table.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 10\n      }\n    }, this.state.newsArray.map(newsArticle => /*#__PURE__*/React.createElement(Table.Row, {\n      key: newsArticle._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }, newsArticle.bandName), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }\n    }, \" \", newsArticle.news, \" \"), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }, \" \", newsArticle.date), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      icon: true,\n      color: \"blue\",\n      onClick: e => this.edit(newsArticle._id),\n      className: \"btn waves-effect waves-light\",\n      type: \"submit\",\n      name: \"action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      fitted: true,\n      name: \"edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      icon: true,\n      color: \"red\",\n      onClick: e => this.delete(newsArticle._id),\n      className: \"btn waves-effect waves-light\",\n      type: \"submit\",\n      name: \"action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      fitted: true,\n      name: \"delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    })))))))))));\n  }\n\n}\n\nexport default NewsAdmin;","map":{"version":3,"sources":["/Users/jamesrobbins/Desktop/Nerdstillery/nerdstillery-live/client/src/components/Admin/News/News.js"],"names":["React","axios","Container","Grid","Button","Form","Table","Icon","Dropdown","NewsAdmin","Component","constructor","props","bandnamechange","event","data","setState","bandName","value","newschange","news","target","datechange","date","state","newsArray","id","componentDidMount","get","then","res","submit","preventDefault","post","alert","console","log","put","delete","edit","_id","render","bandNames","key","text","e","map","newsArticle"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Container, Grid, Button, Form, Table, Icon, Dropdown } from 'semantic-ui-react';\n\nclass NewsAdmin extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      newsArray:[],\n      id: 0,\n      bandName: '',\n      news: '',\n      date: ''\n    }\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/api/news')\n    .then((res) => {\n      this.setState({\n        newsArray: res.data,\n        id: 0,\n        bandName: '',\n        news: '',\n        date: ''\n      })\n    })\n  }\n\n  bandnamechange = (event, data) => {\n    this.setState({\n      bandName: data.value\n    })\n  }\n\n  newschange = event => {\n    this.setState({\n      news: event.target.value\n    })\n  }\n\n  datechange = event => {\n    this.setState({\n      date: event.target.value\n    })\n  }\n\n  submit(event, id) {\n    event.preventDefault()\n    if (id === 0 && this.state.bandName !== '' && this.state.news !== '' && this.state.date !== '') {\n      axios.post('http://localhost:5000/api/news', {bandName: this.state.bandName, news: this.state.news, date: this.state.date})\n      .then(() => {\n        this.componentDidMount()\n        alert(\"Upload Successfully\")\n        console.log(\"Successful \" + this.state.bandName + this.state.news + this.state.id)\n      })\n    } else if (this.state.bandName === '' || this.state.news === '' || this.state.date === '') {\n        alert(\"Please fill out all fields\")\n    }else {\n      axios.put(`http://localhost:5000/api/news/${id}`, {bandName: this.state.bandName, news: this.state.news, date: this.state.date})\n      .  then(() => {\n        this.componentDidMount()\n      })\n    }\n  }\n\n  delete(id) {\n    axios.delete(`http://localhost:5000/api/news/${id}`)\n    .then(() => {\n      this.componentDidMount()\n    })\n  }\n\n  edit(id) {\n    axios.get(`http://localhost:5000/api/news/${id}`)\n    .then((res) => {\n      this.setState({\n        id: res.data._id,\n        bandName: res.data.bandName,\n        news: res.data.news,\n        date: res.data.date\n      })\n    })\n  }\n  render() {\n\n    const bandNames = [\n      {\n        key: \"Cryptic Calling\",\n        text: \"Cryptic Calling\",\n        value: \"Cryptic Calling\"\n      },\n      {\n        key: \"Static Siren\",\n        text: \"Static Siren\",\n        value: \"Static Siren\"\n      },\n      {\n        key: \"Sega James\",\n        text: \"Sega James\",\n        value: \"Static Siren\"\n      },\n      {\n        key: \"Just James\",\n        text: \"Just James\",\n        value: \"Just James\"\n      }\n    ]\n\n  return (\n    <Container fluid className=\"admin\">\n      <Grid columns={2}>\n        <Grid.Row>\n          <Grid.Column>\n            <Form inverted onSubmit={(e) => this.submit(e, this.state.id)}>\n              <Form.Field>\n                <label><h4>Band Name</h4></label>\n                  <Dropdown \n                  placeholder=\"Select Band\"\n                  fluid\n                  selection\n                  options={bandNames}\n                  onChange={this.bandnamechange}\n                  />\n              </Form.Field>\n            <Form.Field>\n              <label><h4>News</h4></label>\n                <input value={this.state.news} onChange={(e) => this.newschange(e)} placeholder='News' type=\"text\"/>\n            </Form.Field>\n            <Form.Field>\n              <label><h4>Date</h4></label>\n                <input value={this.state.date} onChange={(e) => this.datechange(e)} placeholder='Date' type=\"date\" />\n            </Form.Field>\n          <Button type='submit'>Submit</Button>\n          </Form>\n        </Grid.Column>\n        <Grid.Column>\n        <Table>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Band Name</Table.HeaderCell>\n              <Table.HeaderCell>News</Table.HeaderCell>\n              <Table.HeaderCell>Date</Table.HeaderCell>\n              <Table.HeaderCell>Edit News</Table.HeaderCell>\n              <Table.HeaderCell>Delete News</Table.HeaderCell>\n             </Table.Row>\n          </Table.Header>\n\n         <Table.Body>\n          {this.state.newsArray.map(newsArticle => \n          <Table.Row key={newsArticle._id}>\n          <Table.Cell>{newsArticle.bandName}</Table.Cell>\n          <Table.Cell> {newsArticle.news} </Table.Cell>\n          <Table.Cell> {newsArticle.date}</Table.Cell>\n          <Table.Cell>\n          <Button icon color=\"blue\" onClick={(e) => this.edit(newsArticle._id)} className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">\n            <Icon fitted name=\"edit\" />\n          </Button>\n          </Table.Cell>\n          <Table.Cell>\n          <Button icon color=\"red\" onClick={(e) => this.delete(newsArticle._id)} className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">\n            <Icon fitted name=\"delete\" />\n          </Button>\n          </Table.Cell>\n        </Table.Row>\n            \n            \n            )}\n          \n        </Table.Body>\n      </Table>\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  </Container>\n\n  );\n}\n}\n\nexport default NewsAdmin;\n\n"]},"metadata":{},"sourceType":"module"}